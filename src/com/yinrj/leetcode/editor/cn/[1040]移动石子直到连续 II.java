package com.yinrj.leetcode.editor.cn;//åœ¨ä¸€ä¸ªé•¿åº¦ æ— é™ çš„æ•°è½´ä¸Šï¼Œç¬¬ i é¢—çŸ³å­çš„ä½ç½®ä¸º stones[i]ã€‚å¦‚æœä¸€é¢—çŸ³å­çš„ä½ç½®æœ€å°/æœ€å¤§ï¼Œé‚£ä¹ˆè¯¥çŸ³å­è¢«ç§°ä½œ ç«¯ç‚¹çŸ³å­ ã€‚
//
// æ¯ä¸ªå›åˆï¼Œä½ å¯ä»¥å°†ä¸€é¢—ç«¯ç‚¹çŸ³å­æ‹¿èµ·å¹¶ç§»åŠ¨åˆ°ä¸€ä¸ªæœªå ç”¨çš„ä½ç½®ï¼Œä½¿å¾—è¯¥çŸ³å­ä¸å†æ˜¯ä¸€é¢—ç«¯ç‚¹çŸ³å­ã€‚ 
//
// å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœçŸ³å­åƒ stones = [1,2,5] è¿™æ ·ï¼Œä½ å°† æ— æ³• ç§»åŠ¨ä½äºä½ç½® 5 çš„ç«¯ç‚¹çŸ³å­ï¼Œå› ä¸ºæ— è®ºå°†å®ƒç§»åŠ¨åˆ°ä»»ä½•ä½ç½®ï¼ˆä¾‹å¦‚ 0 æˆ– 3ï¼‰
//ï¼Œè¯¥çŸ³å­éƒ½ä»ç„¶ä¼šæ˜¯ç«¯ç‚¹çŸ³å­ã€‚ 
//
// å½“ä½ æ— æ³•è¿›è¡Œä»»ä½•ç§»åŠ¨æ—¶ï¼Œå³ï¼Œè¿™äº›çŸ³å­çš„ä½ç½®è¿ç»­æ—¶ï¼Œæ¸¸æˆç»“æŸã€‚ 
//
// è¦ä½¿æ¸¸æˆç»“æŸï¼Œä½ å¯ä»¥æ‰§è¡Œçš„æœ€å°å’Œæœ€å¤§ç§»åŠ¨æ¬¡æ•°åˆ†åˆ«æ˜¯å¤šå°‘ï¼Ÿ ä»¥é•¿åº¦ä¸º 2 çš„æ•°ç»„å½¢å¼è¿”å›ç­”æ¡ˆï¼šanswer = [minimum_moves, 
//maximum_moves] ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼š[7,4,9]
//è¾“å‡ºï¼š[1,2]
//è§£é‡Šï¼š
//æˆ‘ä»¬å¯ä»¥ç§»åŠ¨ä¸€æ¬¡ï¼Œ4 -> 8ï¼Œæ¸¸æˆç»“æŸã€‚
//æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥ç§»åŠ¨ä¸¤æ¬¡ 9 -> 5ï¼Œ4 -> 6ï¼Œæ¸¸æˆç»“æŸã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼š[6,5,4,3,10]
//è¾“å‡ºï¼š[2,3]
//è§£é‡Šï¼š
//æˆ‘ä»¬å¯ä»¥ç§»åŠ¨ 3 -> 8ï¼Œæ¥ç€æ˜¯ 10 -> 7ï¼Œæ¸¸æˆç»“æŸã€‚
//æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥ç§»åŠ¨ 3 -> 7, 4 -> 8, 5 -> 9ï¼Œæ¸¸æˆç»“æŸã€‚
//æ³¨æ„ï¼Œæˆ‘ä»¬æ— æ³•è¿›è¡Œ 10 -> 2 è¿™æ ·çš„ç§»åŠ¨æ¥ç»“æŸæ¸¸æˆï¼Œå› ä¸ºè¿™æ˜¯ä¸åˆè¦æ±‚çš„ç§»åŠ¨ã€‚
// 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼š[100,101,104,102,103]
//è¾“å‡ºï¼š[0,0] 
//
// 
//
// æç¤ºï¼š 
//
// 
// 3 <= stones.length <= 10^4 
// 1 <= stones[i] <= 10^9 
// stones[i] çš„å€¼å„ä¸ç›¸åŒã€‚ 
// 
//
// 
//
// Related Topics æ•°ç»„ æ•°å­¦ åŒæŒ‡é’ˆ æ’åº ğŸ‘ 194 ğŸ‘ 0


import java.util.Arrays;

//leetcode submit region begin(Prohibit modification and deletion)
class Solution1040 {
    public int[] numMovesStonesII(int[] stones) {
        int[] res = new int[2];
        int n = stones.length;

        Arrays.sort(stones);
        // æ±‚æœ€å¤§å€¼ï¼Œè®¡ç®—å‡ºæ¥ä¸¤ä¸ªç«¯ç‚¹ä¹‹é—´æœ‰å¤šå°‘ä¸ªç©ºä½
        int m = stones[n - 1] - stones[0] - (n - 1);
        // åˆ†ä¸¤ç§æƒ…å†µï¼Œä»å·¦è¾¹ç§»åŠ¨è¿˜æ˜¯ä»å³è¾¹ç§»åŠ¨ï¼Œç«¯ç‚¹åˆ°ä¸‹ä¸€ä¸ªç‚¹çš„ä½ç½®ä¸€å®šä¸èƒ½ä½¿ç”¨
        res[1] = m - Math.min(stones[1] - stones[0] - 1, stones[n - 1] - stones[n - 2] - 1);

        res[0] = Integer.MAX_VALUE;

        // æ±‚æœ€å°å€¼ï¼Œæ‰¾å‡ºæ¥é•¿åº¦ä¸ºnçš„æ—¶å€™æœ€å¤šæœ‰å¤šå°‘çŸ³å­ï¼Œç§»åŠ¨çš„æ¬¡æ•°ä¸€å®šå¤§äºç­‰äºç©ºä½çš„æ¬¡æ•°
        for (int i = 0, j = 0; i < n; ++i) {
            while (stones[i] - stones[j] + 1 > n) {
                j++;
            }

            // æœ€å¤šçš„çŸ³å­æ•°
            m = i - j + 1;
            int r;
            if (m == n - 1 && stones[i] - stones[j] == i - j) {
                // æ°å¥½æœ‰ä¸€é¢—çŸ³å­è½åœ¨ä¸€ä¸ªæ²¡æœ‰ç©ºä½çš„æœ‰åºçŸ³å­å¤–é¢
                r = 2;
            } else {
                r = n - m;
            }

            res[0] = Math.min(res[0], r);
        }
        return res;
    }
}
//leetcode submit region end(Prohibit modification and deletion)
